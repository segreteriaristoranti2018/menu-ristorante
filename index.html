<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Men√π Tonnarello</title>

  <style>
    :root{
      --glass: rgba(255,255,255,0.14);
      --glass2: rgba(255,255,255,0.22);
      --text: #fff;

      /* panel piatti (ora pi√π simile al box allergeni ma senza pallini) */
      --panel: rgba(255,255,255,0.22);
      --shadow: 0 14px 40px rgba(0,0,0,.28);
    }

    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      min-height:100vh;
      background:#000;
    }

    /* ===== SFONDO ===== */
    body::before{
      content:"";
      position:fixed;
      inset:0;
      background-image: url("./sfondo.png");
      background-size: 100% auto;
      background-position: top center;
      background-repeat: no-repeat;
      background-color:#000;
      z-index:-2;
    }
    body::after{
      content:"";
      position:fixed;
      inset:0;
      background: rgba(0,0,0,0.35);
      z-index:-1;
    }

    /* ===== HERO ===== */
    .hero{
      min-height: 100vh;
      display:flex;
      align-items:flex-end;
      justify-content:center;
      padding: 28px 16px 46px;
    }
    .hero-card{
      width: min(980px, 100%);
      color: var(--text);
      background: rgba(0,0,0,0.34);
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 22px;
      box-shadow: var(--shadow);
      padding: 22px 18px 16px;
      backdrop-filter: blur(10px);
    }

    /* ===== Language selector ===== */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:flex-end;
      gap:10px;
      margin-bottom: 10px;
    }
    .lang-select{
      appearance:none;
      -webkit-appearance:none;
      -moz-appearance:none;
      color:#fff;
      background: rgba(255,255,255,0.14);
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 999px;
      padding: 10px 14px;
      font-weight: 800;
      cursor:pointer;
    }
    .lang-select option{ color:#000; }

    /* (hai detto che vuoi togliere il titolo ‚ÄúTonnarello‚Äù nel box) */
    .hero-title{ display:none; }

    .hero-sub{
      margin: 8px 0 14px;
      opacity: .92;
      line-height: 1.35;
      font-size: 15px;
    }

    .btn-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }
    .btn{
      display:block;
      text-align:center;
      text-decoration:none;
      color:#fff;
      padding: 12px 12px;
      border-radius: 999px;
      background: var(--glass);
      border: 1px solid rgba(255,255,255,0.18);
      transition: transform .08s ease, background .15s ease;
      user-select:none;
      font-weight: 800;
    }
    .btn:hover{ background: var(--glass2); }
    .btn:active{ transform: scale(0.98); }
    .scroll-hint{
      margin: 14px 0 0;
      opacity: .88;
      font-size: 14px;
    }

    /* ===== CONTENUTO ===== */
    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding: 18px 16px 40px;
    }

    /* PANEL PIATTI: stesso ‚Äúglass feel‚Äù ma senza pallini */
    .panel{
      background: var(--panel);
      border-radius: 18px;
      padding: 18px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,0.18);
    }

    .section{ padding: 8px 0 2px; scroll-margin-top: 18px; }
    .section-title{ margin: 18px 0 10px; font-size: 22px; }

    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 14px;
    }
    .card{
      background:#fff;
      border-radius: 14px;
      overflow:hidden;
      box-shadow: 0 8px 24px rgba(0,0,0,.10);
      border: 1px solid rgba(0,0,0,0.06);
    }
    .card img{
      width:100%;
      height: 170px;
      object-fit: cover;
      display:block;
      cursor: zoom-in;
    }
    .content{ padding: 12px 12px 14px; }
    .name{
      font-weight: 900;
      margin: 0 0 6px;
      display:flex;
      align-items:center;
      gap: 8px;
      flex-wrap: wrap;
    }

    /* ===== ICONE PIATTO (immagini) ===== */
    .dish-icons{
      display:inline-flex;
      gap: 6px;
      align-items:center;
    }
    .dish-icons img{
      width: 18px;
      height: 18px;
      object-fit: contain;
      display:block;
    }

    /* foglia: resta ‚Äúsemplice‚Äù */
    .leaf-badge{
      width:18px;
      height:18px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      font-size: 16px;
      line-height: 1;
    }

    .desc{ margin: 0 0 10px; opacity: .82; font-size: 14px; line-height: 1.35; }
    .row{ display:flex; justify-content: space-between; align-items:center; gap: 10px; }
    .price{ font-weight: 900; }
    .tag{ font-size: 12px; padding: 4px 8px; border-radius: 999px; background:#f2f2f2; }

    footer{
      color:#fff;
      opacity:.88;
      text-align:center;
      padding: 26px 16px 40px;
    }
    .footer-sub{
      margin-top: 10px;
      font-size: 14px;
      opacity: .92;
    }

    /* ===== LIGHTBOX ===== */
    .lightbox{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.86);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 9999;
    }
    .lightbox.open{ display:flex; }
    .lightbox img{
      max-width: min(1200px, 96vw);
      max-height: 92vh;
      border-radius: 14px;
      box-shadow: 0 18px 60px rgba(0,0,0,.45);
      cursor: zoom-out;
    }
    .lightbox .close{
      position:absolute;
      top: 14px;
      right: 14px;
      background: rgba(255,255,255,.14);
      border: 1px solid rgba(255,255,255,.22);
      color:#fff;
      border-radius: 999px;
      padding: 10px 12px;
      font-weight: 900;
      cursor:pointer;
    }
    .lightbox .hint{
      position:absolute;
      bottom: 14px;
      left: 50%;
      transform: translateX(-50%);
      color:#fff;
      opacity:.85;
      font-size: 13px;
      background: rgba(255,255,255,.12);
      border: 1px solid rgba(255,255,255,.18);
      padding: 8px 12px;
      border-radius: 999px;
    }

    /* ===== ALLERGENI (FUORI DAL PANEL) ===== */
    .allergens-wrap{
      max-width:1100px;
      margin: 0 auto;
      padding: 0 16px 44px;
    }

    .allergens-box{
      color:#111;
      background: rgba(255,255,255,0.22);
      border-radius: 22px;
      padding: 18px 18px 16px;
      box-shadow: 0 14px 40px rgba(0,0,0,.22);
      backdrop-filter: blur(8px);

      border: 4px dotted rgba(190,70,90,0.85);
      outline: 2px solid rgba(255,255,255,0.20);
      outline-offset: 6px;
    }

    .allergens-box h3{
      margin: 0 0 10px;
      font-size: 20px;
      font-weight: 900;
    }
    .allergens-box p{
      margin: 0 0 14px;
      font-size: 13px;
      line-height: 1.35;
      opacity: .95;
    }

    .allergen-grid{
      display:grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 10px 14px;
      margin-top: 8px;
    }
    @media (max-width: 980px){
      .allergen-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    @media (max-width: 520px){
      .allergen-grid{ grid-template-columns: 1fr; }
    }

    .allergen-item{
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,0.18);
      border: 1px solid rgba(0,0,0,0.10);
    }
    .allergen-num{
      width: 24px;
      height: 24px;
      border-radius: 999px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight: 900;
      font-size: 11px;
      background: rgba(255,255,255,0.55);
      border: 1px solid rgba(0,0,0,0.14);
      flex: 0 0 auto;
    }
    .allergen-name{
      font-size: 11px;
      font-weight: 800;
      line-height: 1.2;
    }
  </style>
</head>

<body>
  <!-- HOME -->
  <section class="hero" id="home">
    <div class="hero-card">
      <div class="topbar">
        <select id="langSelect" class="lang-select" aria-label="Select language">
          <option value="it">üáÆüáπ IT</option>
          <option value="en">üá¨üáß EN</option>
          <option value="es">üá™üá∏ ES</option>
          <option value="fr">üá´üá∑ FR</option>
        </select>
      </div>

      <!-- titolo tolto -->
      <h1 class="hero-title">Tonnarello</h1>

      <p class="hero-sub" data-ui="hero_sub">Menu digitale ‚Ä¢ Tocca una categoria per vedere i piatti</p>

      <div class="btn-grid">
        <a class="btn" href="#antipasti" data-ui="btn_antipasti">Antipasti</a>
        <a class="btn" href="#primi" data-ui="btn_primi">Primi</a>
        <a class="btn" href="#polpette" data-ui="btn_polpette">Polpette per tutti</a>
        <a class="btn" href="#secondi" data-ui="btn_secondi">Secondi</a>
        <a class="btn" href="#contorni" data-ui="btn_contorni">Contorni</a>
        <a class="btn" href="#pinse" data-ui="btn_pinse">Pinse</a>
        <a class="btn" href="#insalatone" data-ui="btn_insalatone">Insalatone</a>
        <a class="btn" href="#dolci" data-ui="btn_dolci">Dolci</a>
      </div>

      <p class="scroll-hint" data-ui="scroll_hint">‚¨áÔ∏è Scorri oppure clicca una categoria</p>
    </div>
  </section>

  <!-- MENU -->
  <div class="wrap">
    <div class="panel">

      <!-- ANTIPASTI -->
      <section id="antipasti" class="section">
        <h2 class="section-title" data-ui="sec_antipasti">Antipasti</h2>
        <div class="grid">

          <!-- ESEMPIO: Carciofo (carciofo + foglia) -->
          <div class="card">
            <img src="./img/piatti/carciofoallagiudia.jpeg" alt="Carciofo alla Giudia">
            <div class="content">
              <p class="name">
                Carciofo alla Giudia
                <span class="dish-icons">
                  <img src="./img/icone/carciofo.png" alt="Carciofo">
                  <span class="leaf-badge" title="Vegetariano">üçÉ</span>
                </span>
              </p>
              <p class="desc" data-desc-key="carciofo_desc">Tradizione romana.</p>
              <div class="row"><span class="tag">Antipasto</span><span class="price">‚Ç¨ 9,5</span></div>
            </div>
          </div>

          <div class="card">
            <img src="./img/piatti/cartocciocalamari.jpeg" alt="Cartoccio di Calamari">
            <div class="content">
              <p class="name">
                Cartoccio di Calamari
                <span class="dish-icons">
                  <img src="./img/icone/calamaro.png" alt="Calamaro">
                </span>
              </p>
              <p class="desc" data-desc-key="calamari_desc">Calamari dorati.</p>
              <div class="row"><span class="tag">Antipasto</span><span class="price">‚Ç¨ 18,5</span></div>
            </div>
          </div>

          <!-- ... (qui lasci tutti gli altri tuoi piatti) ... -->

        </div>
      </section>

      <!-- SECONDI (ESEMPIO tacchino sulla cotoletta gigante) -->
      <section id="secondi" class="section">
        <h2 class="section-title" data-ui="sec_secondi">Secondi</h2>
        <div class="grid">

          <div class="card">
            <img src="./img/piatti/cotoletta.jpeg" alt="Cotoletta gigante panata">
            <div class="content">
              <p class="name">
                Cotoletta gigante panata
                <span class="dish-icons">
                  <img src="./img/icone/tacchino.png" alt="Tacchino">
                </span>
              </p>
              <p class="desc" data-desc-key="cotoletta_desc">Croccante e dorata.</p>
              <div class="row"><span class="tag">Secondo</span><span class="price">‚Ç¨ 18,5</span></div>
            </div>
          </div>

          <!-- ... resto secondi ... -->

        </div>
      </section>

      <!-- (tutte le altre sezioni: primi, polpette, contorni, pinse, insalatone, dolci...) -->
      <!-- Mantieni i tuoi piatti: ti basta aggiungere lo "span dish-icons" dove serve -->

    </div>
  </div>

  <!-- ALLERGENI -->
  <section class="allergens-wrap" id="allergeni">
    <div class="allergens-box">
      <h3 data-ui="all_title">Allergeni</h3>
      <p data-ui="all_text">
        Ai sensi del Reg. (UE) n. 1169/2011, si avvisa la gentile clientela che negli alimenti e nelle bevande preparati in questo esercizio,
        possono essere contenuti ingredienti o coadiuvanti considerati allergeni. Le informazioni circa la presenza di sostanze o prodotti che
        provocano allergie o intolleranze sono disponibili rivolgendosi al personale in servizio e sul men√π.
        Il cibo √® una nostra grande passione: i nostri pasti sono realizzati con ingredienti di elevata qualit√† e facciamo del nostro meglio per
        soddisfare le esigenze dei clienti con allergie alimentari. Tuttavia, non possiamo garantire un ambiente completamente privo di
        allergeni e tracce di alcuni ingredienti potrebbero essere presenti nei nostri posti.
      </p>

      <div class="allergen-grid">
        <div class="allergen-item"><div class="allergen-num">1</div><div class="allergen-name" data-ui="a1">Glutine e derivati</div></div>
        <div class="allergen-item"><div class="allergen-num">2</div><div class="allergen-name" data-ui="a2">Crostacei</div></div>
        <div class="allergen-item"><div class="allergen-num">3</div><div class="allergen-name" data-ui="a3">Uova e derivati</div></div>
        <div class="allergen-item"><div class="allergen-num">4</div><div class="allergen-name" data-ui="a4">Pesce</div></div>
        <div class="allergen-item"><div class="allergen-num">5</div><div class="allergen-name" data-ui="a5">Arachidi</div></div>
        <div class="allergen-item"><div class="allergen-num">6</div><div class="allergen-name" data-ui="a6">Soia</div></div>
        <div class="allergen-item"><div class="allergen-num">7</div><div class="allergen-name" data-ui="a7">Latte e derivati (lattosio)</div></div>
        <div class="allergen-item"><div class="allergen-num">8</div><div class="allergen-name" data-ui="a8">Frutta a guscio</div></div>
        <div class="allergen-item"><div class="allergen-num">9</div><div class="allergen-name" data-ui="a9">Sedano</div></div>
        <div class="allergen-item"><div class="allergen-num">10</div><div class="allergen-name" data-ui="a10">Senape</div></div>
        <div class="allergen-item"><div class="allergen-num">11</div><div class="allergen-name" data-ui="a11">Semi di sesamo</div></div>
        <div class="allergen-item"><div class="allergen-num">12</div><div class="allergen-name" data-ui="a12">Anidride solforosa e solfiti &gt; 10 mg</div></div>
        <div class="allergen-item"><div class="allergen-num">13</div><div class="allergen-name" data-ui="a13">Lupini</div></div>
        <div class="allergen-item"><div class="allergen-num">14</div><div class="allergen-name" data-ui="a14">Molluschi</div></div>
      </div>
    </div>
  </section>

  <footer>
    <div data-ui="footer_main">¬© Tonnarello ‚Ä¢ Allergeni: chiedi al personale</div>
    <div class="footer-sub" data-ui="footer_service">Servizio per i ragazzi che vi hanno servito e sorriso 5%</div>
  </footer>

  <!-- LIGHTBOX OVERLAY -->
  <div id="lightbox" class="lightbox" aria-hidden="true">
    <button class="close" id="lbClose" aria-label="Close">‚úï</button>
    <img id="lbImg" alt="">
    <div class="hint" id="lbHint" data-ui="lb_hint">Clicca fuori o premi ESC per chiudere</div>
  </div>

  <script>
    // ===== Placeholder immagine (se file mancante) =====
    const PLACEHOLDER_SRC =
      'data:image/svg+xml;charset=utf-8,' +
      encodeURIComponent(`
        <svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700">
          <defs>
            <linearGradient id="g" x1="0" x2="1">
              <stop offset="0" stop-color="#f0f0f0"/>
              <stop offset="1" stop-color="#e2e2e2"/>
            </linearGradient>
          </defs>
          <rect width="100%" height="100%" fill="url(#g)"/>
          <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle"
                font-family="Arial" font-size="44" fill="#777">
            Immagine non disponibile
          </text>
        </svg>
      `);

    // ===== Traduzioni UI (inclusi allergeni + footer extra) =====
    const UI = {
      it: {
        hero_sub: "Menu digitale ‚Ä¢ Tocca una categoria per vedere i piatti",
        scroll_hint: "‚¨áÔ∏è Scorri oppure clicca una categoria",
        btn_antipasti: "Antipasti",
        btn_primi: "Primi",
        btn_polpette: "Polpette per tutti",
        btn_secondi: "Secondi",
        btn_contorni: "Contorni",
        btn_pinse: "Pinse",
        btn_insalatone: "Insalatone",
        btn_dolci: "Dolci",
        sec_antipasti: "Antipasti",
        sec_primi: "Primi",
        sec_polpette: "Polpette per tutti",
        sec_secondi: "Secondi",
        sec_contorni: "Contorni",
        sec_pinse: "Pinse",
        sec_insalatone: "Insalatone",
        sec_dolci: "Dolci",
        lb_hint: "Clicca fuori o premi ESC per chiudere",
        footer_main: "¬© Tonnarello ‚Ä¢ Allergeni: chiedi al personale",
        footer_service: "Servizio per i ragazzi che vi hanno servito e sorriso 5%",

        all_title: "Allergeni",
        all_text: "Ai sensi del Reg. (UE) n. 1169/2011, si avvisa la gentile clientela che negli alimenti e nelle bevande preparati in questo esercizio, possono essere contenuti ingredienti o coadiuvanti considerati allergeni. Le informazioni circa la presenza di sostanze o prodotti che provocano allergie o intolleranze sono disponibili rivolgendosi al personale in servizio e sul men√π. Il cibo √® una nostra grande passione: i nostri pasti sono realizzati con ingredienti di elevata qualit√† e facciamo del nostro meglio per soddisfare le esigenze dei clienti con allergie alimentari. Tuttavia, non possiamo garantire un ambiente completamente privo di allergeni e tracce di alcuni ingredienti potrebbero essere presenti nei nostri posti.",

        a1:"Glutine e derivati", a2:"Crostacei", a3:"Uova e derivati", a4:"Pesce",
        a5:"Arachidi", a6:"Soia", a7:"Latte e derivati (lattosio)", a8:"Frutta a guscio",
        a9:"Sedano", a10:"Senape", a11:"Semi di sesamo", a12:"Anidride solforosa e solfiti > 10 mg",
        a13:"Lupini", a14:"Molluschi"
      },

      en: {
        hero_sub: "Digital menu ‚Ä¢ Tap a category to see the dishes",
        scroll_hint: "‚¨áÔ∏è Scroll or tap a category",
        btn_antipasti: "Starters",
        btn_primi: "First courses",
        btn_polpette: "Meatballs for everyone",
        btn_secondi: "Main courses",
        btn_contorni: "Sides",
        btn_pinse: "Pinsa",
        btn_insalatone: "Salads",
        btn_dolci: "Desserts",
        sec_antipasti: "Starters",
        sec_primi: "First courses",
        sec_polpette: "Meatballs for everyone",
        sec_secondi: "Main courses",
        sec_contorni: "Sides",
        sec_pinse: "Pinsa",
        sec_insalatone: "Salads",
        sec_dolci: "Desserts",
        lb_hint: "Click outside or press ESC to close",
        footer_main: "¬© Tonnarello ‚Ä¢ Allergens: ask our staff",
        footer_service: "Service for the guys who served you with a smile: 5%",

        all_title: "Allergens",
        all_text: "In accordance with EU Regulation No. 1169/2011, please note that foods and drinks prepared in this establishment may contain ingredients or processing aids considered allergens. Information about substances or products that may cause allergies or intolerances is available from our staff and on the menu. Food is our passion: we use high-quality ingredients and do our best to meet the needs of guests with food allergies. However, we cannot guarantee a completely allergen-free environment and traces of some ingredients may be present.",

        a1:"Gluten and cereals", a2:"Crustaceans", a3:"Eggs", a4:"Fish",
        a5:"Peanuts", a6:"Soy", a7:"Milk (lactose)", a8:"Nuts",
        a9:"Celery", a10:"Mustard", a11:"Sesame", a12:"Sulphur dioxide & sulphites > 10 mg",
        a13:"Lupin", a14:"Molluscs"
      },

      es: {
        hero_sub: "Men√∫ digital ‚Ä¢ Toca una categor√≠a para ver los platos",
        scroll_hint: "‚¨áÔ∏è Despl√°zate o toca una categor√≠a",
        btn_antipasti: "Entrantes",
        btn_primi: "Primeros",
        btn_polpette: "Alb√≥ndigas para todos",
        btn_secondi: "Segundos",
        btn_contorni: "Guarniciones",
        btn_pinse: "Pinsa",
        btn_insalatone: "Ensaladas",
        btn_dolci: "Postres",
        sec_antipasti: "Entrantes",
        sec_primi: "Primeros",
        sec_polpette: "Alb√≥ndigas para todos",
        sec_secondi: "Segundos",
        sec_contorni: "Guarniciones",
        sec_pinse: "Pinsa",
        sec_insalatone: "Ensaladas",
        sec_dolci: "Postres",
        lb_hint: "Haz clic fuera o pulsa ESC para cerrar",
        footer_main: "¬© Tonnarello ‚Ä¢ Al√©rgenos: pregunta al personal",
        footer_service: "Servicio para los chicos que te atendieron con una sonrisa: 5%",

        all_title: "Al√©rgenos",
        all_text: "De conformidad con el Reglamento (UE) n¬∫ 1169/2011, se informa a los clientes de que los alimentos y bebidas preparados en este establecimiento pueden contener ingredientes o coadyuvantes considerados al√©rgenos. La informaci√≥n sobre sustancias o productos que puedan causar alergias o intolerancias est√° disponible a trav√©s del personal y en el men√∫. La comida es nuestra pasi√≥n: usamos ingredientes de alta calidad y hacemos todo lo posible para satisfacer las necesidades de los clientes con alergias alimentarias. Sin embargo, no podemos garantizar un ambiente completamente libre de al√©rgenos y podr√≠an estar presentes trazas de algunos ingredientes.",

        a1:"Gluten", a2:"Crust√°ceos", a3:"Huevos", a4:"Pescado",
        a5:"Cacahuetes", a6:"Soja", a7:"Leche (lactosa)", a8:"Frutos de c√°scara",
        a9:"Apio", a10:"Mostaza", a11:"S√©samo", a12:"Di√≥xido de azufre y sulfitos > 10 mg",
        a13:"Altramuces", a14:"Moluscos"
      },

      fr: {
        hero_sub: "Menu digital ‚Ä¢ Touchez une cat√©gorie pour voir les plats",
        scroll_hint: "‚¨áÔ∏è Faites d√©filer ou touchez une cat√©gorie",
        btn_antipasti: "Entr√©es",
        btn_primi: "Premiers",
        btn_polpette: "Boulettes pour tous",
        btn_secondi: "Plats",
        btn_contorni: "Accompagnements",
        btn_pinse: "Pinsa",
        btn_insalatone: "Salades",
        btn_dolci: "Desserts",
        sec_antipasti: "Entr√©es",
        sec_primi: "Premiers",
        sec_polpette: "Boulettes pour tous",
        sec_secondi: "Plats",
        sec_contorni: "Accompagnements",
        sec_pinse: "Pinsa",
        sec_insalatone: "Salades",
        sec_dolci: "Desserts",
        lb_hint: "Cliquez hors image ou appuyez sur √âCHAP pour fermer",
        footer_main: "¬© Tonnarello ‚Ä¢ Allerg√®nes : demandez au personnel",
        footer_service: "Service pour les gar√ßons qui vous ont servi avec le sourire : 5%",

        all_title: "Allerg√®nes",
        all_text: "Conform√©ment au r√®glement (UE) n¬∞ 1169/2011, nous informons notre aimable client√®le que les aliments et boissons pr√©par√©s dans cet √©tablissement peuvent contenir des ingr√©dients ou auxiliaires consid√©r√©s comme allerg√®nes. Les informations concernant les substances ou produits pouvant provoquer des allergies ou intol√©rances sont disponibles aupr√®s du personnel et sur le menu. La cuisine est notre passion : nous utilisons des ingr√©dients de haute qualit√© et faisons de notre mieux pour r√©pondre aux besoins des clients allergiques. Toutefois, nous ne pouvons pas garantir un environnement totalement exempt d‚Äôallerg√®nes et des traces de certains ingr√©dients peuvent √™tre pr√©sentes.",

        a1:"Gluten", a2:"Crustac√©s", a3:"≈íufs", a4:"Poisson",
        a5:"Arachides", a6:"Soja", a7:"Lait (lactose)", a8:"Fruits √† coque",
        a9:"C√©leri", a10:"Moutarde", a11:"S√©same", a12:"Anhydride sulfureux et sulfites > 10 mg",
        a13:"Lupin", a14:"Mollusques"
      }
    };

    function applyLang(lang){
      document.documentElement.lang = lang;
      const ui = UI[lang] || UI.it;

      document.querySelectorAll("[data-ui]").forEach(el => {
        const key = el.getAttribute("data-ui");
        if (ui[key]) el.textContent = ui[key];
      });

      localStorage.setItem("menu_lang", lang);
    }

    // ===== FALLBACK immagini mancanti =====
    document.querySelectorAll(".card img").forEach(img => {
      img.addEventListener("error", () => {
        if (img.dataset.fallbackApplied) return;
        img.dataset.fallbackApplied = "1";
        img.src = PLACEHOLDER_SRC;
        img.style.objectFit = "contain";
        img.style.background = "#fff";
        img.style.cursor = "default";
      });
    });

    // ===== LIGHTBOX =====
    const lb = document.getElementById("lightbox");
    const lbImg = document.getElementById("lbImg");
    const lbClose = document.getElementById("lbClose");

    function openLightbox(src, alt){
      if (src && src.startsWith("data:image/svg+xml")) return;
      lbImg.src = src;
      lbImg.alt = alt || "";
      lb.classList.add("open");
      lb.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    }

    function closeLightbox(){
      lb.classList.remove("open");
      lb.setAttribute("aria-hidden", "true");
      lbImg.src = "";
      document.body.style.overflow = "";
    }

    document.addEventListener("click", (e) => {
      const img = e.target.closest(".card img");
      if(!img) return;
      openLightbox(img.getAttribute("src"), img.getAttribute("alt"));
    });

    lbClose.addEventListener("click", closeLightbox);
    lb.addEventListener("click", (e) => { if(e.target === lb) closeLightbox(); });
    document.addEventListener("keydown", (e) => { if(e.key === "Escape") closeLightbox(); });

    // ===== INIT =====
    const select = document.getElementById("langSelect");
    const saved = localStorage.getItem("menu_lang") || "it";
    if (select){
      select.value = saved;
      select.addEventListener("change", e => applyLang(e.target.value));
    }
    applyLang(saved);
  </script>
</body>
</html>
